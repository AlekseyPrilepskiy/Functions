internal class Program
{
    private static void Main(string[] args)
    {
        int maxHealth = 20;
        int healthPositionX = 0;
        int healthPositionY = 1;

        string nameHealth = " HP";

        int maxMana = 20;
        int manaPositionX = 0;
        int manaPositionY = 3;

        string nameMana = " Mана";

        ConsoleColor healthColor = ConsoleColor.Green;
        ConsoleColor manaColor = ConsoleColor.DarkBlue;

        DrawBar(maxHealth, healthPositionX, healthPositionY, nameHealth, healthColor);

        DrawBar(maxMana, manaPositionX, manaPositionY, nameMana, manaColor);
    }

    private static void DrawBar(int maxResource, int positionX, int positionY, string nameResource, ConsoleColor barColor)
    {
        int currentResource;

        Console.Write($"Сколько процентов {nameResource} у вас есть: ");

        while(int.TryParse(Console.ReadLine(), out currentResource) == false)
        {
            Console.WriteLine("Ошибка! Неверный формат данных. \nВведите число:");
        }

        currentResource = (currentResource * maxResource) / 100;

        Console.SetCursorPosition(positionX, positionY);

        Console.Write("[");

        ConsoleColor defaultColor = Console.BackgroundColor;
        Console.BackgroundColor = barColor;

        for (int i = 0; i < maxResource; i++)
        {
            Console.Write(" ");

            if (i == currentResource)
            {
                Console.BackgroundColor = defaultColor;
            }
        }

        Console.Write("]");
        Console.WriteLine(nameResource);
    }
}
